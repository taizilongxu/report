# 基于AT89C51单片机控制的双闭环直流调速系统

本设计是基于单片机控制的PWM直流电机调速系统，系统以STC89C51单片机为核心，以130小直流电机为控制对象，以L298N为H桥驱动芯片实现电动机的转速反馈控制。

调节PWM 占空比从而控制电机两端电压，以达到调速的目的。

用4*4键盘输入有关控制信号及参数，并在12864 LED上实时显示输入参数及动态转速。

系统的硬件设计部分包括按键模块、电动机驱动模块、STC89C51单片机系统、光电门测速模块、保护电路、供电电源和直流电机。

系统的软件部分包括键盘控制程序设计、显示程序设计、主控程序设计。整个系统实现了单片机控制电机的启制动、正反转、速度调节的效果。



![](img/2014-12-23 19:43:33 的屏幕截图.png)


实现了转速和电流两种负反馈控制，在系统中设置了转速PID自动调节器和电流PID自动调节器，两者之间实现串联。即把转速调节器的输出作为电流调节器的输入，再用电流调节器的输出去控制逆变桥晶闸管的触发装置。从闭环结构上看，电流调节环在里面，叫内环；转速调节环在外面，叫外环

![](img/2014-12-23 20:31:16 的屏幕截图.png)

采用PI调节器,带电流截止环节的转速负反馈调速系统,既实现了系统的稳定运行和无静差调速,又限制了启动时的最大电流.但由于电流截止负反馈只能限制最大启动电流,而不能保证在整个启动过程中维持最大电流,随着转速的上升,电机反电动势增加,使启动电流到达最大值之后又迅速降下来,电磁转矩也随之减小,必然影响启动的快速性.

为了实现理想启动过程,工程上常采用转速电流双闭环负反馈.启动时让转速外环饱和不起作用,电流内环起主要作用,调节启动电流保持最大值,使转速线性化,迅速达到给定值;稳态运行时,转速负反馈外环起主要作用,使转速给定电压的变化而变化,电流内环跟随转速外环调节电动机的电枢电流以平衡负载电流.